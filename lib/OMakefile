open MyUtil

.PHONY:install clean

USE_OCAMLFIND = true
#
OCAMLPACKS[] =
	compiler-libs.common
#
if $(not $(OCAMLFIND_EXISTS))
   eprintln(This project requires ocamlfind, but is was not found.)
   eprintln(You need to install ocamlfind and run "omake --configure".)
   exit 1

#
# Include path
#
OCAMLINCLUDES += 

OCAMLFINDFLAGS = 

#
# Compile native or byte code?
#
# The default values are defined as follows:
#
NATIVE_ENABLED = $(OCAMLOPT_EXISTS)
BYTE_ENABLED = true

#
# Various options
#
OCAMLFLAGS += -annot -bin-annot

# Only Install
LIB=ppx_simplespec
FILES[]=

MyOCamlPackageExtras[] =
	../src/ppx_simplespec.run
	../src/ppx_simplespec.opt
	../src/ppx_simplespec$(EXE)

MyOCamlPackage($(LIB), $(EMPTY), $(EMPTY), $(EMPTY), true)

%.mli : ../src/%.mli
	cp ../src/*.mli .
%.cmt : ../src/%.cmt
	cp ../src/*.cmt .
%.cmti : ../src/%.cmti
	cp ../src/*.cmti .
	
clean:
	rm -f .*.mli
	rm -f .*.cmt
	rm -f .*.cmti

